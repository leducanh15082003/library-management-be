<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <title>Trang chủ - Hanoi Library</title>
    <link rel="stylesheet" th:href="@{/css/global.css}" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Public+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="min-h-screen flex flex-col bg-[#F2F1F1] pb-10 font-josefin-sans">
    <header class="bg-[#427B49] text-white sticky top-0 z-50">
        <div class="flex pl-20 pr-5 py-3 items-center justify-between">
            <div class="flex">
                <img th:src="'https://res.cloudinary.com/dlqpdl4mz/image/upload/v1742976410/logo_hggei6.png'" class="object-contain w-24" alt="Logo"/>
                <div class="flex flex-col pl-5">
                    <span class="font-bold text-2xl">Thư Viện Hà Nội</span>
                    <span class="font-light text-xl">Hanoi Library</span>
                </div>
            </div>
            <!-- Nếu người dùng đã đăng nhập -->
            <div sec:authorize="isAuthenticated()">
                <div class="flex gap-8 pr-10 items-center">
                    <div class="flex items-center gap-2 cursor-pointer"
                         th:onclick="|window.location.href='@{/profile}'|">
                        <img th:if="${#authentication.principal.imageUrl != null}"
                             th:src="${#authentication.principal.imageUrl}"
                             alt="Avatar"
                             class="w-10 h-10 rounded-full object-cover">
                        <svg th:unless="${#authentication.principal.imageUrl != null}" width="28" height="28" viewBox="0 0 36 36" fill="none"
                             xmlns="http://www.w3.org/2000/svg">
                            <path d="M7.2375 26.925C8.725 25.7875 10.3875 24.8906 12.225 24.2344C14.0625 23.5781 15.9875 23.25 18 23.25C20.0125 23.25 21.9375 23.5781 23.775 24.2344C25.6125 24.8906 27.275 25.7875 28.7625 26.925C29.7833 25.7292 30.5781 24.3729 31.1469 22.8563C31.7156 21.3396 32 19.7208 32 18C32 14.1208 30.6365 10.8177 27.9094 8.09063C25.1823 5.36354 21.8792 4 18 4C14.1208 4 10.8177 5.36354 8.09063 8.09063C5.36354 10.8177 4 14.1208 4 18C4 19.7208 4.28437 21.3396 4.85313 22.8563C5.42188 24.3729 6.21667 25.7292 7.2375 26.925ZM18 19.75C16.2792 19.75 14.8281 19.1594 13.6469 17.9781C12.4656 16.7969 11.875 15.3458 11.875 13.625C11.875 11.9042 12.4656 10.4531 13.6469 9.27188C14.8281 8.09063 16.2792 7.5 18 7.5C19.7208 7.5 21.1719 8.09063 22.3531 9.27188C23.5344 10.4531 24.125 11.9042 24.125 13.625C24.125 15.3458 23.5344 16.7969 22.3531 17.9781C21.1719 19.1594 19.7208 19.75 18 19.75ZM18 35.5C15.5792 35.5 13.3042 35.0406 11.175 34.1219C9.04583 33.2031 7.19375 31.9563 5.61875 30.3813C4.04375 28.8063 2.79688 26.9542 1.87813 24.825C0.959375 22.6958 0.5 20.4208 0.5 18C0.5 15.5792 0.959375 13.3042 1.87813 11.175C2.79688 9.04583 4.04375 7.19375 5.61875 5.61875C7.19375 4.04375 9.04583 2.79688 11.175 1.87813C13.3042 0.959375 15.5792 0.5 18 0.5C20.4208 0.5 22.6958 0.959375 24.825 1.87813C26.9542 2.79688 28.8063 4.04375 30.3813 5.61875C31.9563 7.19375 33.2031 9.04583 34.1219 11.175C35.0406 13.3042 35.5 15.5792 35.5 18C35.5 20.4208 35.0406 22.6958 34.1219 24.825C33.2031 26.9542 31.9563 28.8063 30.3813 30.3813C28.8063 31.9563 26.9542 33.2031 24.825 34.1219C22.6958 35.0406 20.4208 35.5 18 35.5ZM18 32C19.5458 32 21.0042 31.774 22.375 31.3219C23.7458 30.8698 25 30.2208 26.1375 29.375C25 28.5292 23.7458 27.8802 22.375 27.4281C21.0042 26.976 19.5458 26.75 18 26.75C16.4542 26.75 14.9958 26.976 13.625 27.4281C12.2542 27.8802 11 28.5292 9.8625 29.375C11 30.2208 12.2542 30.8698 13.625 31.3219C14.9958 31.774 16.4542 32 18 32ZM18 16.25C18.7583 16.25 19.3854 16.0021 19.8813 15.5062C20.3771 15.0104 20.625 14.3833 20.625 13.625C20.625 12.8667 20.3771 12.2396 19.8813 11.7438C19.3854 11.2479 18.7583 11 18 11C17.2417 11 16.6146 11.2479 16.1188 11.7438C15.6229 12.2396 15.375 12.8667 15.375 13.625C15.375 14.3833 15.6229 15.0104 16.1188 15.5062C16.6146 16.0021 17.2417 16.25 18 16.25Z" fill="white"/>
                        </svg>
                        <span class="text-xl" th:text="${#authentication != null ? #authentication.name : 'Guest'}">Username</span>
                    </div>
                    <form th:action="@{/logout}" method="post" th:if="${#authorization.expression('isAuthenticated()')}">
                        <button type="submit" class="bg-white text-[#427B49] text-lg w-36 h-10 cursor-pointer rounded-md">Đăng xuất</button>
                    </form>
                </div>
            </div>
            <!-- Nếu chưa đăng nhập -->
            <div sec:authorize="!isAuthenticated()">
                <div class="flex gap-8 pr-10">
                    <button th:onclick="|window.location.href='@{/auth/login}'|"
                            class="bg-white text-[#427B49] text-lg w-36 h-10 cursor-pointer rounded-md">
                        Đăng nhập
                    </button>
                    <button th:onclick="|window.location.href='@{/auth/signup}'|"
                            class="bg-[#A4CB37] text-white text-lg w-36 h-10 cursor-pointer rounded-md">
                        Đăng ký
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="flex flex-1">
        <aside class="w-90 h-full pl-15 pr-10 pt-10 font-josefin-sans sticky top-20 z-50">
            <div class="bg-[#427B49] border-2 border-gray-300">
                <h2 class="text-lg font-medium text-white pl-6 py-1">Thư mục</h2>
            </div>
            <nav>
                <ul class="pl-2 space-y-2 border-l-2 border-b-2 border-r-2 border-gray-300">
                    <li class="flex gap-1 border-b-2 border-gray-300 pt-1">
                        <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <mask id="mask0_58_104" style="mask-type: alpha;" maskUnits="userSpaceOnUse" x="0" y="0" width="19" height="19">
                                <rect width="19" height="19" fill="#D9D9D9"/>
                            </mask>
                            <g mask="url(#mask0_58_104)">
                                <path d="M3.16666 16.625V7.125L9.5 2.375L15.8333 7.125V16.625H14.25V7.91667L9.5 4.35417L4.75 7.91667V16.625H3.16666ZM7.125 15.0417H11.875V13.4583H7.125V15.0417ZM7.125 11.875H11.875V10.2917H7.125V11.875ZM5.54166 16.625V8.70833H13.4583V16.625H5.54166Z" fill="#427B49"/>
                            </g>
                        </svg>
                        <a th:href="@{/home}" class="no-underline">Trang chủ</a>
                    </li>
                    <li class="flex gap-1 border-b-2 border-gray-300">
                        <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <mask id="mask0_58_111" style="mask-type: alpha;" maskUnits="userSpaceOnUse" x="0" y="0" width="19" height="19">
                                <rect width="19" height="19" fill="#D9D9D9"/>
                            </mask>
                            <g mask="url(#mask0_58_111)">
                                <path d="M5.9375 11.875H7.125V8.70833H5.9375V9.69792H4.75V10.8854H5.9375V11.875ZM7.91667 10.8854H14.25V9.69792H7.91667V10.8854ZM11.875 8.70833H13.0625V7.71875H14.25V6.53125H13.0625V5.54167H11.875V8.70833ZM4.75 7.71875H11.0833V6.53125H4.75V7.71875ZM6.33334 16.625V15.0417H3.16667C2.73125 15.0417 2.35851 14.8866 2.04844 14.5766C1.73837 14.2665 1.58334 13.8938 1.58334 13.4583V3.95833C1.58334 3.52292 1.73837 3.15017 2.04844 2.8401C2.35851 2.53003 2.73125 2.375 3.16667 2.375H15.8333C16.2688 2.375 16.6415 2.53003 16.9516 2.8401C17.2616 3.15017 17.4167 3.52292 17.4167 3.95833V13.4583C17.4167 13.8938 17.2616 14.2665 16.9516 14.5766C16.6415 14.8866 16.2688 15.0417 15.8333 15.0417H12.6667V16.625H6.33334ZM3.16667 13.4583H15.8333V3.95833H3.16667V13.4583Z" fill="#427B49"/>
                            </g>
                        </svg>
                        <a th:href="@{/service/service-list}" class="no-underline">Dịch vụ</a>
                    </li>
                    <li class="flex gap-1 border-b-2 border-gray-300">
                        <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <mask id="mask0_58_125" style="mask-type: alpha;" maskUnits="userSpaceOnUse" x="0" y="0" width="19" height="19">
                                <rect width="19" height="19" fill="#D9D9D9" />
                            </mask>
                            <g mask="url(#mask0_58_125)">
                                <path d="M9.5 15.8334C8.86666 15.332 8.18055 14.9427 7.44166 14.6657C6.70278 14.3886 5.9375 14.25 5.14583 14.25C4.59166 14.25 4.04739 14.3226 3.51302 14.4677C2.97864 14.6129 2.46736 14.8174 1.97916 15.0813C1.70208 15.2264 1.43489 15.2198 1.1776 15.0615C0.92031 14.9032 0.791664 14.6723 0.791664 14.3688V4.82921C0.791664 4.68407 0.827949 4.54553 0.900518 4.41358C0.973088 4.28164 1.08194 4.18268 1.22708 4.11671C1.83403 3.80004 2.46736 3.56254 3.12708 3.40421C3.7868 3.24587 4.45972 3.16671 5.14583 3.16671C5.91111 3.16671 6.65989 3.26567 7.39219 3.46358C8.12448 3.6615 8.82708 3.95837 9.5 4.35421V13.9334C10.1729 13.5112 10.8788 13.1945 11.6177 12.9834C12.3566 12.7723 13.1021 12.6667 13.8542 12.6667C14.3292 12.6667 14.7943 12.7063 15.2495 12.7855C15.7047 12.8646 16.1632 12.9834 16.625 13.1417V3.64171C16.8229 3.70768 17.0175 3.77695 17.2089 3.84952C17.4002 3.92209 17.5882 4.01115 17.7729 4.11671C17.9181 4.18268 18.0269 4.28164 18.0995 4.41358C18.172 4.54553 18.2083 4.68407 18.2083 4.82921V14.3688C18.2083 14.6723 18.0797 14.9032 17.8224 15.0615C17.5651 15.2198 17.2979 15.2264 17.0208 15.0813C16.5326 14.8174 16.0214 14.6129 15.487 14.4677C14.9526 14.3226 14.4083 14.25 13.8542 14.25C13.0625 14.25 12.2972 14.3886 11.5583 14.6657C10.8194 14.9427 10.1333 15.332 9.5 15.8334ZM11.0833 11.875V4.35421L15.0417 0.395874V8.31254L11.0833 11.875ZM7.91666 13.1615V5.324C7.48125 5.13928 7.02934 4.99744 6.56093 4.89848C6.09253 4.79952 5.62083 4.75004 5.14583 4.75004C4.65764 4.75004 4.18264 4.79622 3.72083 4.88858C3.25903 4.98094 2.81041 5.11949 2.375 5.30421V13.1615C2.8368 12.99 3.29531 12.8646 3.75052 12.7855C4.20573 12.7063 4.67083 12.6667 5.14583 12.6667C5.62083 12.6667 6.08594 12.7063 6.54114 12.7855C6.99635 12.8646 7.45486 12.99 7.91666 13.1615Z" fill="#427B49"/>
                            </g>
                        </svg>
                        <a th:href="@{/document/document-list}" class="no-underline">Tài liệu</a>
                    </li>
                    <li class="flex gap-1 border-gray-300">
                        <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <mask id="mask0_58_125" style="mask-type: alpha;" maskUnits="userSpaceOnUse" x="0" y="0" width="19" height="19">
                                <rect width="19" height="19" fill="#D9D9D9"/>
                            </mask>
                            <g mask="url(#mask0_58_125)">
                                <path d="M9.5 15.8334C8.86666 15.332 8.18055 14.9427 7.44166 14.6657C6.70278 14.3886 5.9375 14.25 5.14583 14.25C4.59166 14.25 4.04739 14.3226 3.51302 14.4677C2.97864 14.6129 2.46736 14.8174 1.97916 15.0813C1.70208 15.2264 1.43489 15.2198 1.1776 15.0615C0.92031 14.9032 0.791664 14.6723 0.791664 14.3688V4.82921C0.791664 4.68407 0.827949 4.54553 0.900518 4.41358C0.973088 4.28164 1.08194 4.18268 1.22708 4.11671C1.83403 3.80004 2.46736 3.56254 3.12708 3.40421C3.7868 3.24587 4.45972 3.16671 5.14583 3.16671C5.91111 3.16671 6.65989 3.26567 7.39219 3.46358C8.12448 3.6615 8.82708 3.95837 9.5 4.35421V13.9334C10.1729 13.5112 10.8788 13.1945 11.6177 12.9834C12.3566 12.7723 13.1021 12.6667 13.8542 12.6667C14.3292 12.6667 14.7943 12.7063 15.2495 12.7855C15.7047 12.8646 16.1632 12.9834 16.625 13.1417V3.64171C16.8229 3.70768 17.0175 3.77695 17.2089 3.84952C17.4002 3.92209 17.5882 4.01115 17.7729 4.11671C17.9181 4.18268 18.0269 4.28164 18.0995 4.41358C18.172 4.54553 18.2083 4.68407 18.2083 4.82921V14.3688C18.2083 14.6723 18.0797 14.9032 17.8224 15.0615C17.5651 15.2198 17.2979 15.2264 17.0208 15.0813C16.5326 14.8174 16.0214 14.6129 15.487 14.4677C14.9526 14.3226 14.4083 14.25 13.8542 14.25C13.0625 14.25 12.2972 14.3886 11.5583 14.6657C10.8194 14.9427 10.1333 15.332 9.5 15.8334ZM11.0833 11.875V4.35421L15.0417 0.395874V8.31254L11.0833 11.875ZM7.91666 13.1615V5.324C7.48125 5.13928 7.02934 4.99744 6.56093 4.89848C6.09253 4.79952 5.62083 4.75004 5.14583 4.75004C4.65764 4.75004 4.18264 4.79622 3.72083 4.88858C3.25903 4.98094 2.81041 5.11949 2.375 5.30421V13.1615C2.8368 12.99 3.29531 12.8646 3.75052 12.7855C4.20573 12.7063 4.67083 12.6667 5.14583 12.6667C5.62083 12.6667 6.08594 12.7063 6.54114 12.7855C6.99635 12.8646 7.45486 12.99 7.91666 13.1615Z" fill="#427B49"/>
                            </g>
                        </svg>
                        <a th:href="@{/profile}" class="no-underline">Thông tin cá nhân</a>
                    </li>
                </ul>
            </nav>
        </aside>
        <!-- Main Content -->
        <main class="flex-1 pt-10 pr-10">
            <div layout:fragment="content"></div>
        </main>
    </div>
</div>
</body>
</html>
